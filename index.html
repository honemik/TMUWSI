<form name="form" id="form">
  slideID:
  <input type="text" name="id" id="id" /> quality:
  <input type="text" name="quality" id="quality" />debug:
  <input type="text" name="debug" id="debug" />
  <input type="button" name="submit" value="送出" onclick="processFormData();" />
</form>
<p id="demo"></p>
<div id="seadragon-viewer" style="width:800px; height:600px;"></div>
<script src="//openseadragon.github.io/openseadragon/openseadragon.min.js"></script>
<script>
var id="036-C12";
var quality="";
var debug=false;
var viewer = OpenSeadragon({
    id:            "seadragon-viewer",
    prefixUrl:     "/openseadragon/images/",
    //defaultZoomLevel:0.25,
    debugMode:  false,
    showNavigator:true,
    //minZoomImageRatio:0,
    tileSources:   {
        height: 12060,
        width:  12253,
        tileSize: 256,
        minLevel: 8,
        maxLevel: 13,
        getTileUrl: function( level, x, y ){
            //document.getElementById("demo").innerHTML = 5 + 6;
            var maxlev = 13;
            var a = Math.pow(2, 13 - level);
            var tileSize = 256;
            var height = 12060;
            var width = 12253;
            var theight, twidth;
            
            if((x+1)*tileSize > width/a) twidth = Math.round(width/a);
            else twidth = (x+1)*tileSize;
            if((y+1)*tileSize > height/a) theight = Math.round(height/a);
            else theight = (y+1)*tileSize;
            console.log("http://pbel2.tmu.edu.tw:88/anatomy/A/"+id+".svs?"+x*tileSize+"+" +y*tileSize+ "+"+twidth+"+"+theight+"+"+a+"+80+"+quality);
            console.log(x+"/"+y+"/"+level+"/"+a+"/"+twidth+"/"+theight);
            return "http://pbel2.tmu.edu.tw:88/anatomy/A/"+id+".svs?"+x*tileSize+"+" +y*tileSize+ "+"+twidth+"+"+theight+"+"+a+"+80+"+quality;
             }
    }
});
function processFormData() {
  const idElement = document.getElementById('id');
  id = idElement.value;
  const qualityElement = document.getElementById('quality');
  quality = qualityElement.value;
  const debugElement = document.getElementById('debug');
  if (debugElement.value == "true") {viewer.setDebugMode(true);}
  else{viewer.setDebugMode(false);} 
  console.log(debugElement.value);
}
</script>